<div id="two-commandqueue" class="win-content">
    <header class="win-head">
        <h2>CommandQueue <span class="small">v{{ version }}</span></h2>
        <ul class="list-btn">
            <li><a href="#" class="size-34x34 btn-red icon-26x26-close" ng-click="closeWindow()"></a></li>
        </ul>
    </header>

    <div class="win-main" scrollbar="">
        <div class="tabs tabs-bg">
            <div class="tabs-two-col">
                <div class="tab" ng-click="selectTab('add')" ng-class="{true:'tab-active', false:''}[selectedTab == 'add']">
                    <div class="tab-inner">
                        <div ng-class="{'box-border-light': selectedTab === 'add'}">
                            <a href="#" ng-class="{'btn-icon btn-orange': selectedTab !== 'add'}">{{ 'add' | i18n:loc.ale:textObject }}</a>
                        </div>
                    </div>
                </div>

                <div class="tab" ng-click="selectTab('waiting')" ng-class="{true:'tab-active', false:''}[selectedTab == 'waiting']">
                    <div class="tab-inner">
                        <div ng-class="{'box-border-light': selectedTab === 'waiting'}">
                            <a href="#" ng-class="{'btn-icon btn-orange': selectedTab !== 'waiting'}">{{ 'waiting' | i18n:loc.ale:textObject }}</a>
                        </div>
                    </div>
                </div>

                <div class="tab" ng-click="selectTab('logs')" ng-class="{true:'tab-active', false:''}[selectedTab == 'logs']">
                    <div class="tab-inner">
                        <div ng-class="{'box-border-light': selectedTab === 'logs'}">
                            <a href="#" ng-class="{'btn-icon btn-orange': selectedTab !== 'logs'}">{{ 'logs' | i18n:loc.ale:textObject }}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="box-paper footer">
            <div class="scroll-wrap">
                <div class="add" ng-show="selectedTab === 'add'">
                    <form class="addForm">
                        <div>
                            <table class="tbl-border-light tbl-striped">
                                <colgroup>
                                    <col width="30%">
                                    <col width="5%">
                                    <col>
                                    <col width="18%">
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <td>
                                            <input data-setting="origin" type="text" class="textfield-border origin" pattern="\\d{2,3}\\|\\d{2,3}" placeholder="{{ 'add.village-search' | i18n:loc.ale:textObject) }}" required>
                                        </td>
                                        <td class="text-center"><span class="icon-26x26-rte-village"></span></td>
                                        <td class="originVillage">{{ 'add.no-village' | i18n:loc.ale:textObject) }}</td>
                                        <td class="actions">
                                            <a class="btn btn-orange addSelected" tooltip="{{ 'add.addSelected' | i18n:loc.ale:textObject) }}">{{ 'selected' | i18n:loc.ale:textObjectCommon) }}</a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input data-setting="target" type="text" class="textfield-border target" pattern="\\d{2,3}\\|\\d{2,3}" placeholder="{{ 'add.village-search' | i18n:loc.ale:textObject) }}" required>
                                        </td>
                                        <td class="text-center"><span class="icon-26x26-rte-village"></span></td>
                                        <td class="targetVillage">{{ 'add.no-village' | i18n:loc.ale:textObject) }}</td>
                                        <td class="actions">
                                            <a class="btn btn-orange addMapSelected" tooltip="{{ 'add.addMapSelected' | i18n:loc.ale:textObject) }}">{{ 'selected' | i18n:loc.ale:textObjectCommon }}</a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input data-setting="date" type="text" class="textfield-border date" pattern="\\s*\\d{1,2}:\\d{1,2}:\\d{1,2}(:\\d{1,3})? \\d{1,2}\\/\\d{1,2}\\/\\d{4}\\s*" placeholder="{{ 'add.date' | i18n:loc.ale:textObject) }}" tooltip="00:00:00:000 00/00/0000" required>
                                        </td>
                                        <td class="text-center"><span class="icon-26x26-time"></span></td>
                                        <td>
                                            <span class="ff-cell-fix">
                                                <select data-setting="dateType" class="dateType">
                                                    <option value="arrive" selected>{{ 'add.arrive' | i18n:loc.ale:textObject) }}</option>
                                                    <option value="out">{{ 'add.out' | i18n:loc.ale:textObject) }}</option>
                                                </select>
                                            </span>
                                        </td>
                                        <td class="actions">
                                            <a class="btn btn-orange currentDateMinus" tooltip="{{ 'add.currentDateMinus' | i18n:loc.ale:textObject) }}">-</a><a class="btn btn-orange addCurrentDate" tooltip="{{ 'add.currentDate' | i18n:loc.ale:textObject) }}">{{ 'now' | i18n:loc.ale:textObjectCommon }}</a><a class="btn btn-orange currentDatePlus" tooltip="{{ 'add.currentDatePlus' | i18n:loc.ale:textObject) }}">+</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <table class="tbl-border-light tbl-units tbl-speed screen-village-info travelTimes" style="display:none">
                                <thead>
                                    <tr>
                                        <th colspan="7">{{ 'add.travelTimes' | i18n:loc.ale:textObject) }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-34x34-unit-knight"></span>
                                                <span class="icon icon-34x34-unit-light_cavalry"></span>
                                                <span class="icon icon-34x34-unit-mounted_archer"></span>
                                            </div>
                                            <div class="travelTime box-time-sub-icon">
                                                <div class="time-icon icon-20x20-attack"></div>
                                                <span class="attack" data-unit="knight"></span>
                                            </div>
                                            <div class="travelTime box-time-sub-icon">
                                                <div class="time-icon icon-20x20-support"></div>
                                                <span class="support" data-unit="knight"></span>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-heavy_cavalry"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="heavy_cavalry"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="heavy_cavalry"></span></div>
                                        </td>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-34x34-unit-archer"></span>
                                                <span class="icon icon-34x34-unit-spear"></span>
                                                <span class="icon icon-34x34-unit-axe"></span>
                                                <span class="icon icon-34x34-unit-doppelsoldner"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="axe"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="axe"></span></div>
                                        </td>
                                        <td>
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-sword"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="sword"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="sword"></span></div>
                                        </td>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-34x34-unit-catapult"></span>
                                                <span class="icon icon-34x34-unit-ram"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="ram"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="ram"></span></div>
                                        </td>
                                        <td>
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-snob"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="snob"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="snob"></span></div>
                                        </td>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-trebuchet"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="trebuchet"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="trebuchet"></span></div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h5 class="twx-section collapse">{{ 'units' | i18n:loc.ale:textObjectCommon }}</h5>
                        <table class="tbl-border-light tbl-striped">
                            <colgroup>
                                <col width="25%">
                                <col width="25%">
                                <col width="25%">
                                <col width="25%">
                            </colgroup>
                            <tbody class="add-units">
                                <tr>
                                    <td colspan="4" class="actions">
                                        <select class="insert-preset"></select>
                                        <a class="clear-units btn btn-orange">{{ 'add.clear' | i18n:loc.ale:textObject) }}</a>
                                    </td>
                                </tr>

                                <tr>
                                    <# units.forEach(function(unit, i) { }}
                                        <# if (i !== 0 && i % 4 === 0) { }}
                                            </tr><tr>
                                        <# } }}

                                        <td class="cell-space-left">
                                            <span class="unit-icon icon-bg-black icon-34x34-unit-{{ unit }}"></span>
                                            <input class="unit {{ unit }}" type="text" data-setting="{{ unit }}" placeholder="0">
                                        </td>
                                    <# }) }}

                                    <td class="text-center catapult-target" style="display:none" colspan="3">
                                        <select data-setting="catapultTarget">
                                            <# buildings.forEach(function(building, i) { }}
                                                <# if (building === "headquarter") { }}
                                                    <option value="headquarter" selected>{{ 'headquarter' | i18n:loc.ale:textObjectCommon }}</option>
                                                <# } else { }}
                                                    <option value="{{ building }}">{{ locale("common", building) }}</option>
                                                <# } }}
                                            <# }) }}
                                        </select>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <h5 class="twx-section collapse">{{ 'officers' | i18n:loc.ale:textObjectCommon }}</h5>
                        <table class="tbl-border-light tbl-striped officers">
                            <tbody>
                                <tr>
                                    <# officers.forEach(function(officer) { }}
                                        <td>
                                            <span class="icon-34x34-premium_officer_{{ officer }}"></span>
                                            <label class="btn-orange icon-26x26-checkbox">
                                                <input type="checkbox" data-setting="{{ officer }}" class="{{ officer }}">
                                            </label>
                                        </td>
                                    <# }) }}
                                </tr>
                            </tbody>
                        </table>
                    </form>
                </div>
                
                <div class="waiting" ng-show="selectedTab === 'waiting'">
                    <div class="filters">
                        <table class="tbl-border-light">
                            <tbody>
                                <tr>
                                    <td>
                                        <div data-filter="selectedVillage" class="box-border-dark icon selectedVillage" tooltip="{{ 'filters.selectedVillage' | i18n:loc.ale:textObject) }}">
                                            <span class="icon-34x34-village-info icon-bg-black"></span>
                                        </div>
                                        <div data-filter="barbarianTarget" class="box-border-dark icon barbarianTarget" tooltip="{{ 'filters.barbarianTarget' | i18n:loc.ale:textObject) }}">
                                            <span class="icon-34x34-barbarian-village icon-bg-black"></span>
                                        </div>
                                        <div data-filter="attack" class="box-border-dark icon allowedTypes active" tooltip="{{ 'filters.attack' | i18n:loc.ale:textObject) }}">
                                            <span class="icon-34x34-attack icon-bg-black"></span>
                                        </div>
                                        <div data-filter="support" class="box-border-dark icon allowedTypes active" tooltip="{{ 'filters.support' | i18n:loc.ale:textObject) }}">
                                            <span class="icon-34x34-support icon-bg-black"></span>
                                        </div>
                                        <div data-filter="relocate" class="box-border-dark icon allowedTypes active" tooltip="{{ 'filters.relocate' | i18n:loc.ale:textObject) }}">
                                            <span class="icon-34x34-relocate icon-bg-black"></span>
                                        </div>
                                        <div class="text">
                                            <input data-filter="textMatch" type="text" class="box-border-dark textMatch" placeholder="{{ 'filters.textMatch' | i18n:loc.ale:textObject) }}">
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h5 class="twx-section collapse">{{ 'queue.waiting' | i18n:loc.ale:textObject) }}</h5>
                    <div class="queue">
                        <p class="center nothing">{{ 'queue.noneAdded' | i18n:loc.ale:textObject) }}</p>
                    </div>
                </div>
                
                <div class="log" ng-show="selectedTab === 'log'">
                    <h5 class="twx-section collapse">{{ 'queue.sent' | i18n:loc.ale:textObject) }}</h5>
                    <div class="sent">
                        <p class="center nothing">{{ 'queue.noneSent' | i18n:loc.ale:textObject) }}</p>
                    </div>

                    <h5 class="twx-section collapse">{{ 'queue.expired' | i18n:loc.ale:textObject) }}</h5>
                    <div class="expired">
                        <p class="center nothing">{{ 'queue.noneExpired' | i18n:loc.ale:textObject) }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="win-foot">
        <ul class="list-btn list-center">
            <li ng-show="selectedTab === 'log'">
                <a class="btn-orange btn-border" ng-click="clearLogs()">{{ 'general.clear' | i18n:loc.ale:textObject) }}</a>
            </li>
            <li ng-show="selectedTab === 'add'">
                <a class="btn-orange btn-border add" ng-click="addCommand('attack')"><span class="icon-26x26-attack-small"></span> {{ 'attack' | i18n:loc.ale:textObjectCommon }}</a>
            </li>
            <li ng-show="selectedTab === 'add'">
                <a class="btn-orange btn-border add" ng-click="addCommand('support')"><span class="icon-26x26-support"></span> {{ 'support' | i18n:loc.ale:textObjectCommon }}</a>
            </li>
            <li ng-show="selectedTab === 'add'">
                <a class="btn-orange btn-border add" ng-click="addCommand('relocate')"><span class="icon-26x26-relocate"></span> {{ 'relocate' | i18n:loc.ale:textObjectCommon }}</a>
            </li>

            <li class="twOverflow-button">
                <a class="btn-green btn-border switch">{{ 'activate' | i18n:loc.ale:textObjectCommon }}</a>
            </li>
        </ul>
    </footer>
</div>
