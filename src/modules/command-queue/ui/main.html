<div id="two-commandqueue" class="win-content">
    <header class="win-head">
        <h2>CommandQueue <span class="small">v{{ version }}</span></h2>
        <ul class="list-btn">
            <li><a href="#" class="size-34x34 btn-red icon-26x26-close" ng-click="closeWindow()"></a></li>
        </ul>
    </header>

    <div class="win-main" scrollbar="">
        <div class="tabs tabs-bg">
            <div class="tabs-three-col">
                <div class="tab" ng-click="selectTab('add')" ng-class="{true:'tab-active', false:''}[selectedTab == 'add']">
                    <div class="tab-inner">
                        <div ng-class="{'box-border-light': selectedTab === 'add'}">
                            <a href="#" ng-class="{'btn-icon btn-orange': selectedTab !== 'add'}">{{ 'tab_add' | i18n:loc.ale:textObject }}</a>
                        </div>
                    </div>
                </div>

                <div class="tab" ng-click="selectTab('waiting')" ng-class="{true:'tab-active', false:''}[selectedTab == 'waiting']">
                    <div class="tab-inner">
                        <div ng-class="{'box-border-light': selectedTab === 'waiting'}">
                            <a href="#" ng-class="{'btn-icon btn-orange': selectedTab !== 'waiting'}">{{ 'tab_waiting' | i18n:loc.ale:textObject }}</a>
                        </div>
                    </div>
                </div>

                <div class="tab" ng-click="selectTab('logs')" ng-class="{true:'tab-active', false:''}[selectedTab == 'logs']">
                    <div class="tab-inner">
                        <div ng-class="{'box-border-light': selectedTab === 'logs'}">
                            <a href="#" ng-class="{'btn-icon btn-orange': selectedTab !== 'logs'}">{{ 'tab_logs' | i18n:loc.ale:textObject }}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="box-paper footer">
            <div class="scroll-wrap">
                <div class="add" ng-show="selectedTab === 'add'">
                    <form class="addForm">
                        <div>
                            <table class="tbl-border-light tbl-striped">
                                <colgroup>
                                    <col width="30%">
                                    <col width="5%">
                                    <col>
                                    <col width="18%">
                                </colgroup>
                                <tbody>
                                    <tr>
                                        <td>
                                            <input data-setting="origin" type="text" class="textfield-border origin" pattern="\\d{2,3}\\|\\d{2,3}" placeholder="{{ 'add_village_search' | i18n:loc.ale:textObject }}" required>
                                        </td>
                                        <td class="text-center"><span class="icon-26x26-rte-village"></span></td>
                                        <td class="originVillage">{{ 'add_no_village' | i18n:loc.ale:textObject }}</td>
                                        <td class="actions">
                                            <a class="btn btn-orange addSelected" tooltip="{{ 'add_selected' | i18n:loc.ale:textObject }}">{{ 'selected' | i18n:loc.ale:textObjectCommon }}</a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input data-setting="target" type="text" class="textfield-border target" pattern="\\d{2,3}\\|\\d{2,3}" placeholder="{{ 'add_village_search' | i18n:loc.ale:textObject }}" required>
                                        </td>
                                        <td class="text-center"><span class="icon-26x26-rte-village"></span></td>
                                        <td class="targetVillage">{{ 'add_no_village' | i18n:loc.ale:textObject }}</td>
                                        <td class="actions">
                                            <a class="btn btn-orange addMapSelected" tooltip="{{ 'add_map_selected' | i18n:loc.ale:textObject }}">{{ 'selected' | i18n:loc.ale:textObjectCommon }}</a>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <input data-setting="date" type="text" class="textfield-border date" pattern="\\s*\\d{1,2}:\\d{1,2}:\\d{1,2}(:\\d{1,3})? \\d{1,2}\\/\\d{1,2}\\/\\d{4}\\s*" placeholder="{{ 'add_date' | i18n:loc.ale:textObject }}" tooltip="00:00:00:000 00/00/0000" required>
                                        </td>
                                        <td class="text-center"><span class="icon-26x26-time"></span></td>
                                        <td><div select="" list="DATE_TYPES" selected="selectedDateType"></div></td>
                                        <td class="actions">
                                            <a class="btn btn-orange currentDateMinus" tooltip="{{ 'add_current_date_minus' | i18n:loc.ale:textObject }}">-</a><a class="btn btn-orange addCurrentDate" tooltip="{{ 'add_current_date' | i18n:loc.ale:textObject }}">{{ 'now' | i18n:loc.ale:textObjectCommon }}</a><a class="btn btn-orange currentDatePlus" tooltip="{{ 'add_current_date_plus' | i18n:loc.ale:textObject }}">+</a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <table class="tbl-border-light tbl-units tbl-speed screen-village-info travelTimes" style="display:none">
                                <thead>
                                    <tr>
                                        <th colspan="7">{{ 'add_travel_times' | i18n:loc.ale:textObject }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-34x34-unit-knight"></span>
                                                <span class="icon icon-34x34-unit-light_cavalry"></span>
                                                <span class="icon icon-34x34-unit-mounted_archer"></span>
                                            </div>
                                            <div class="travelTime box-time-sub-icon">
                                                <div class="time-icon icon-20x20-attack"></div>
                                                <span class="attack" data-unit="knight"></span>
                                            </div>
                                            <div class="travelTime box-time-sub-icon">
                                                <div class="time-icon icon-20x20-support"></div>
                                                <span class="support" data-unit="knight"></span>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-heavy_cavalry"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="heavy_cavalry"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="heavy_cavalry"></span></div>
                                        </td>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-34x34-unit-archer"></span>
                                                <span class="icon icon-34x34-unit-spear"></span>
                                                <span class="icon icon-34x34-unit-axe"></span>
                                                <span class="icon icon-34x34-unit-doppelsoldner"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="axe"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="axe"></span></div>
                                        </td>
                                        <td>
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-sword"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="sword"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="sword"></span></div>
                                        </td>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-34x34-unit-catapult"></span>
                                                <span class="icon icon-34x34-unit-ram"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="ram"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="ram"></span></div>
                                        </td>
                                        <td>
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-snob"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="snob"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="snob"></span></div>
                                        </td>
                                        <td class="odd">
                                            <div class="unit-wrap">
                                                <span class="icon icon-single icon-34x34-unit-trebuchet"></span>
                                            </div>
                                            <div class="travelTime"><span class="attack" data-unit="trebuchet"></span></div>
                                            <div class="travelTime"><span class="support" data-unit="trebuchet"></span></div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <h5 class="twx-section collapse">{{ 'units' | i18n:loc.ale:textObjectCommon }}</h5>
                        <table class="tbl-border-light tbl-striped">
                            <colgroup>
                                <col width="25%">
                                <col width="25%">
                                <col width="25%">
                                <col width="25%">
                            </colgroup>
                            <tbody class="add-units">
                                <tr>
                                    <td colspan="4" class="actions">
                                        <ul class="list-btn list-center">
                                            <li><div select="" list="presets" selected="selectedInsertPreset" drop-down="true"></div></li>
                                            <li><a class="clear-units btn btn-orange">{{ 'add_clear' | i18n:loc.ale:textObject }}</a></li>
                                        </ul>
                                    </td>
                                </tr>

                                <tr ng-repeat="i in [] | range:(unitOrder.length / 4);">
                                    <td class="cell-space-left">
                                        <span class="float-left icon-bg-black" ng-class="'icon-34x34-unit-' + unitOrder[i * 4]" tooltip="" tooltip-content="{{ unitOrder[i * 4] | i18n:loc.ale:unitNames }}"></span>
                                        <input remove-zero="" type="text" ng-model="addCommand.units[unitOrder[i * 4]]" maxlength="5" placeholder="{{ addCommand.units[unitOrder[i * 4]] }}" ng-keyup="keyup();" ng-focus="onFocus(unitOrder[i * 4])" ng-blur="onBlur(unitOrder[i * 4])">
                                    </td>
                                    <td class="cell-space-left">
                                        <span class="float-left icon-bg-black" ng-class="'icon-34x34-unit-' + unitOrder[i * 4 + 1]" tooltip="" tooltip-content="{{ unitOrder[i * 4 + 1] | i18n:loc.ale:unitNames }}"></span>
                                        <input remove-zero="" type="text" ng-model="addCommand.units[unitOrder[i * 4 + 1]]" maxlength="5" placeholder="{{ addCommand.units[unitOrder[i * 4 + 1]] }}" ng-keyup="keyup();" ng-focus="onFocus(unitOrder[i * 4 + 1])" ng-blur="onBlur(unitOrder[i * 4 + 1])">
                                    </td>
                                    <td class="cell-space-left">
                                        <span class="float-left icon-bg-black" ng-class="'icon-34x34-unit-' + unitOrder[i * 4 + 2]" tooltip="" tooltip-content="{{ unitOrder[i * 4 + 2] | i18n:loc.ale:unitNames }}"></span>
                                        <input remove-zero="" type="text" ng-model="addCommand.units[unitOrder[i * 4 + 2]]" maxlength="5" placeholder="{{ addCommand.units[unitOrder[i * 4 + 2]] }}" ng-keyup="keyup();" ng-focus="onFocus(unitOrder[i * 4 + 2])" ng-blur="onBlur(unitOrder[i * 4 + 2])">
                                    </td>
                                    <td class="cell-space-left">
                                        <span class="float-left icon-bg-black" ng-class="'icon-34x34-unit-' + unitOrder[i * 4 + 3]" tooltip="" tooltip-content="{{ unitOrder[i * 4 + 3] | i18n:loc.ale:unitNames }}"></span>
                                        <input remove-zero="" type="text" ng-model="addCommand.units[unitOrder[i * 4 + 3]]" maxlength="5" placeholder="{{ addCommand.units[unitOrder[i * 4 + 3]] }}" ng-keyup="keyup();" ng-focus="onFocus(unitOrder[i * 4 + 3])" ng-blur="onBlur(unitOrder[i * 4 + 3])">
                                    </td>
                                </tr>

                                <tr>
                                    <td class="cell-space-left">
                                        <span class="float-left icon-bg-black icon-34x34-unit-catapult" tooltip="" tooltip-content="{{ 'catapult' | i18n:loc.ale:unitNames }}"></span>
                                        <input remove-zero="" type="text" ng-model="addCommand.units.catapult" maxlength="5" placeholder="{{ addCommand.units.catapult }}" ng-keyup="keyup();" ng-focus="onFocus('catapult')" ng-blur="onBlur('catapult')">
                                    </td>
                                    <td class="cell-space-left" colspan="3">
                                        <div ng-visible="showCatapultSelect">
                                            <div class="unit-border box-slider">
                                                <div class="height-wrapper">
                                                    <div select="" list="attackableBuildings" selected="catapultTarget"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <h5 class="twx-section collapse">{{ 'officers' | i18n:loc.ale:textObjectCommon }}</h5>
                        <table class="tbl-border-light tbl-striped officers">
                            <tbody>
                                <tr>
                                    <td ng-repeat="i in officers">
                                        <span class="icon-34x34-premium_officer_{{ officers[i] }}"></span>
                                        <label class="btn-orange icon-26x26-checkbox">
                                            <input type="checkbox" ng-model="addCommand.officers[ officers[i] ]" class="{{ officers[i] }}">
                                        </label>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </form>
                </div>
                
                <div class="waiting" ng-show="selectedTab === 'waiting'">
                    <div class="filters">
                        <table class="tbl-border-light">
                            <tbody>
                                <tr>
                                    <td>
                                        <div data-filter="selectedVillage" class="box-border-dark icon selectedVillage" tooltip="{{ 'filters_selected_village' | i18n:loc.ale:textObject }}">
                                            <span class="icon-34x34-village-info icon-bg-black"></span>
                                        </div>
                                        <div data-filter="barbarianTarget" class="box-border-dark icon barbarianTarget" tooltip="{{ 'filters_barbarian_target' | i18n:loc.ale:textObject }}">
                                            <span class="icon-34x34-barbarian-village icon-bg-black"></span>
                                        </div>
                                        <div data-filter="attack" class="box-border-dark icon allowedTypes active" tooltip="{{ 'filters_attack' | i18n:loc.ale:textObject }}">
                                            <span class="icon-34x34-attack icon-bg-black"></span>
                                        </div>
                                        <div data-filter="support" class="box-border-dark icon allowedTypes active" tooltip="{{ 'filters_support' | i18n:loc.ale:textObject }}">
                                            <span class="icon-34x34-support icon-bg-black"></span>
                                        </div>
                                        <div data-filter="relocate" class="box-border-dark icon allowedTypes active" tooltip="{{ 'filters_relocate' | i18n:loc.ale:textObject }}">
                                            <span class="icon-34x34-relocate icon-bg-black"></span>
                                        </div>
                                        <div class="text">
                                            <input data-filter="textMatch" type="text" class="box-border-dark textMatch" placeholder="{{ 'filters_text_match' | i18n:loc.ale:textObject }}">
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h5 class="twx-section collapse">{{ 'queue_waiting' | i18n:loc.ale:textObject }}</h5>
                    <div class="queue">
                        <p class="center nothing">{{ 'queue_none_added' | i18n:loc.ale:textObject }}</p>
                    </div>
                </div>
                
                <div class="log" ng-show="selectedTab === 'log'">
                    <h5 class="twx-section collapse">{{ 'queue_sent' | i18n:loc.ale:textObject }}</h5>
                    <div class="sent">
                        <p class="center nothing">{{ 'queue_none_sent' | i18n:loc.ale:textObject }}</p>
                    </div>

                    <h5 class="twx-section collapse">{{ 'queue_expired' | i18n:loc.ale:textObject }}</h5>
                    <div class="expired">
                        <p class="center nothing">{{ 'queue_none_expired' | i18n:loc.ale:textObject }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="win-foot">
        <ul class="list-btn list-center">
            <li ng-show="selectedTab === 'log'">
                <a class="btn-orange btn-border" ng-click="clearLogs()">{{ 'general_clear' | i18n:loc.ale:textObject }}</a>
            </li>
            <li ng-show="selectedTab === 'add'">
                <a class="btn-orange btn-border add" ng-click="addCommand('attack')"><span class="icon-26x26-attack-small"></span> {{ 'attack' | i18n:loc.ale:textObjectCommon }}</a>
            </li>
            <li ng-show="selectedTab === 'add'">
                <a class="btn-orange btn-border add" ng-click="addCommand('support')"><span class="icon-26x26-support"></span> {{ 'support' | i18n:loc.ale:textObjectCommon }}</a>
            </li>
            <li ng-show="selectedTab === 'add'">
                <a class="btn-orange btn-border add" ng-click="addCommand('relocate')"><span class="icon-26x26-relocate"></span> {{ 'relocate' | i18n:loc.ale:textObjectCommon }}</a>
            </li>

            <li class="twOverflow-button">
                <a class="btn-green btn-border switch">{{ 'activate' | i18n:loc.ale:textObjectCommon }}</a>
            </li>
        </ul>
    </footer>
</div>
